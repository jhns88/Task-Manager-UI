(this["webpackJsonptask-manager-ui"]=this["webpackJsonptask-manager-ui"]||[]).push([[0],{110:function(e,t,n){},111:function(e,t,n){},138:function(e,t,n){"use strict";n.r(t);var a=n(0),s=n.n(a),i=n(35),r=n.n(i),c=(n(110),n(97)),o=n(16),u=n(17),l=n(30),d=n(29),h=(n(111),n(112),n(158)),j=n(157),k=function(){function e(){Object(o.a)(this,e),this.pageChangeListeners={}}return Object(u.a)(e,[{key:"switchPage",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for(var n in this.pageChangeListeners)this.pageChangeListeners[n](e,t)}},{key:"addOnPageChangeListener",value:function(e){var t=Math.random().toString(36).substr(2,9);return this.pageChangeListeners[t]=e,t}},{key:"unsubscribePageChangeListener",value:function(e){delete this.pageChangeListeners[e]}}],[{key:"getInstance",value:function(){var t=e.instance;return void 0===t&&(t=e.instance=new e),t}}]),e}();k.instance=void 0;var v,f=n(160),b=n(154),O=n(155),g=n(139);!function(e){e.Form="task.form",e.List="task.list"}(v||(v={}));n(81).default;var m=function(){function e(){Object(o.a)(this,e),this.tasks={}}return Object(u.a)(e,[{key:"getTasks",value:function(){var e=this;return new Promise((function(t){t(Object.values(e.tasks))}))}},{key:"syncTasksFromServer",value:function(){var e=this;return new Promise((function(t){t(Object.values(e.tasks))}))}},{key:"getTask",value:function(e){return this.tasks[e]}},{key:"saveTask",value:function(e){var t=this;return new Promise((function(n){e.id;var a,s=null!==(a=e.id)&&void 0!==a?a:Object.keys(t.tasks).length;e.id=s,t.tasks[s]=e,n()}))}},{key:"deleteTask",value:function(e){var t=this;return new Promise((function(n){delete t.tasks[e],n()}))}},{key:"reset",value:function(){return this.tasks={},this}}]),e}();m.DEFAULT=new m;var p=n(3),x=(n(81).default,function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).state={id:e.id,tasktext:"",done:!1},a}return Object(u.a)(n,[{key:"saveTask",value:function(){var e,t;m.DEFAULT.saveTask({id:this.state.id,tasktext:null!==(e=this.state.tasktext)&&void 0!==e?e:"",done:null!==(t=this.state.done)&&void 0!==t&&t}).then((function(){k.getInstance().switchPage(v.List)}))}},{key:"componentDidMount",value:function(){var e=this,t=this.state.id;void 0!==t&&m.DEFAULT.getTasks().then((function(){var n=m.DEFAULT.getTask(t);void 0!==n&&e.setState(n)}))}},{key:"storeInput",value:function(e){this.setState({tasktext:e.target.value})}},{key:"render",value:function(){var e=this;return Object(p.jsxs)("div",{children:[Object(p.jsx)(f.a,{as:"h1",children:void 0!==this.state.id?"Edit Task":"Create Task"}),Object(p.jsx)(b.a,{}),Object(p.jsx)(O.a,{placeholder:"Task",onChange:function(t){return e.storeInput(t)},value:this.state.tasktext}),Object(p.jsx)(b.a,{}),Object(p.jsx)("div",{children:Object(p.jsx)(g.a,{onClick:function(){return e.saveTask()},primary:!0,children:"Save"})})]})}}]),n}(s.a.PureComponent)),T=n(38),y=n(156),L=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).state={},a}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.loadTasks()}},{key:"loadTasks",value:function(){var e=this;m.DEFAULT.getTasks().then((function(t){e.setState({listdata:JSON.stringify(t)})}))}},{key:"markTaskAsDone",value:function(e){var t=this,n=m.DEFAULT.getTask(e);void 0!==n&&(n.done=!0,m.DEFAULT.saveTask(n).then((function(){return t.loadTasks()})))}},{key:"markTaskAsUndone",value:function(e){var t=this,n=m.DEFAULT.getTask(e);void 0!==n&&(n.done=!1,m.DEFAULT.saveTask(n).then((function(){return t.loadTasks()})))}},{key:"deleteTask",value:function(e){var t=this;m.DEFAULT.deleteTask(e).then((function(){return t.loadTasks()}))}},{key:"renderListItems",value:function(e){var t=this,n=JSON.parse(e);return Object(p.jsxs)("div",{children:[Object(p.jsx)(f.a,{as:"h4",children:"Open Tasks:"}),Object(p.jsx)("div",{children:Object(p.jsx)("ul",{children:n.filter((function(e){return!1===e.done})).map((function(e){return Object(p.jsxs)("li",{style:{height:50},children:[Object(p.jsx)("div",{style:{display:"inline"},children:e.tasktext}),Object(p.jsx)("div",{style:{display:"inline",marginLeft:"1rem"},children:Object(p.jsx)(g.a,{basic:!0,size:"mini",onClick:function(){return t.markTaskAsDone(e.id)},primary:!0,children:"Done"})}),Object(p.jsx)(g.a,{basic:!0,color:"green",size:"mini",icon:!0,onClick:function(){return t.performTaskFormOpen(e.id)},children:Object(p.jsx)(T.a,{name:"pencil alternate"})})]},e.id)}))})}),Object(p.jsx)(b.a,{}),Object(p.jsxs)("div",{children:[Object(p.jsx)(f.a,{as:"h4",children:"Closed Tasks:"}),Object(p.jsx)("div",{children:Object(p.jsx)("ul",{children:n.filter((function(e){return!0===e.done})).map((function(e){return Object(p.jsxs)("li",{style:{height:50},children:[Object(p.jsx)("div",{style:{display:"inline"},onClick:function(){return t.performTaskFormOpen(e.id)},children:e.tasktext}),Object(p.jsxs)("div",{style:{display:"inline",marginLeft:"1rem"},children:[Object(p.jsx)(g.a,{basic:!0,size:"mini",color:"grey",onClick:function(){return t.markTaskAsUndone(e.id)},children:"Undone"}),Object(p.jsx)(g.a,{basic:!0,color:"green",size:"mini",icon:!0,onClick:function(){return t.performTaskFormOpen(e.id)},children:Object(p.jsx)(T.a,{name:"pencil alternate"})}),Object(p.jsx)(g.a,{basic:!0,color:"red",size:"mini",icon:!0,onClick:function(){return t.deleteTask(e.id)},children:Object(p.jsx)(T.a,{name:"trash alternate outline"})})]})]},e.id)}))})})]})]})}},{key:"performTaskFormOpen",value:function(e){k.getInstance().switchPage(v.Form,{id:e})}},{key:"render",value:function(){return Object(p.jsxs)("div",{children:[Object(p.jsx)(f.a,{as:"h1",children:"Task List"}),Object(p.jsx)(b.a,{}),void 0===this.state.listdata?Object(p.jsx)(y.a,{active:!0,inline:!0}):this.renderListItems(this.state.listdata)]})}}]),n}(s.a.PureComponent),C=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e,a){var s;return Object(o.a)(this,n),(s=t.call(this,e,a)).mounted=!1,s.pageChangeListenerRefId=void 0,s.state={page:e.defaultPage,props:JSON.stringify({})},s}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.mounted=!0,this.pageChangeListenerRefId=k.getInstance().addOnPageChangeListener((function(t,n){!0===e.mounted&&e.setState({page:t,props:JSON.stringify(n)})}))}},{key:"componentWillUnmount",value:function(){this.mounted=!1,this.pageChangeListenerRefId&&k.getInstance().unsubscribePageChangeListener(this.pageChangeListenerRefId)}},{key:"render",value:function(){return Object(p.jsx)("div",{children:this.props.pages[this.state.page](JSON.parse(this.state.props))})}}]),n}(s.a.PureComponent),P=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"switchPage",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};k.getInstance().switchPage(e,t)}},{key:"render",value:function(){var e=this;return Object(p.jsxs)("div",{children:[Object(p.jsx)(h.a,{fixed:"top",inverted:!0,children:Object(p.jsxs)(j.a,{children:[Object(p.jsx)(h.a.Item,{as:"a",header:!0,children:"Task Manager"}),Object(p.jsx)(h.a.Item,{as:"a",onClick:function(){return e.switchPage("task.list")},children:"Tasks"}),Object(p.jsx)(h.a.Item,{as:"a",onClick:function(){return e.switchPage("task.form")},children:"New Task"})]})}),Object(p.jsx)(j.a,{style:{marginTop:"5em"},children:Object(p.jsx)(C,{defaultPage:"task.list",pages:{"task.list":function(){return Object(p.jsx)(L,{})},"task.form":function(e){return Object(p.jsx)(x,Object(c.a)({},e))}}})})]})}}]),n}(s.a.Component);r.a.render(Object(p.jsx)(P,{}),document.getElementById("root"))}},[[138,1,2]]]);
//# sourceMappingURL=main.abea1641.chunk.js.map